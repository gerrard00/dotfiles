alias ls='ls --color=auto'
alias grep='grep  --color=auto'
alias please='sudo $(fc -ln -1)'

#setup gcd to cd from git repo root
function gcd() {
  cd $(gpwd)/$1
}

function gpwd() {
  echo $(git rev-parse --show-toplevel)
}

function nnvm() {
#nvm use is too slow on my beaters
  # if [ -s ~/.nvm/nvm.sh ]; then
    . ~/.nvm/nvm.sh
    # nvm use node
  # fi
}

# convert a github repo url to a git ssh path
function convert-to-git-ssh()
{
  echo $1 | sed 's#https://github.com/\([^/]*\)/\([^/]*\).*$#git@github.com:\1/\2.git#g'
}


# make tree respect gitignore if we are in a repository
function tree_with_ignore() {
  if git rev-parse --is-inside-work-tree >/dev/null 2>&1; then
    git ls-tree -r --name-only HEAD | tree --fromfile "$@"
  else
  tree $@
  fi
}
alias tree="tree_with_ignore"

# keep this at the end, so aliases can be
# overridden
aliaspath="$HOME/.aliases_local"
if [ -d $aliaspath ]; then
  for aliasfile in $(find "$aliaspath" ! -name '*.js'); do
    . $aliasfile
  done
fi
